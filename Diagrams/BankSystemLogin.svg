<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="814px" preserveAspectRatio="none" style="width:902px;height:814px;background:#808080;" version="1.1" viewBox="0 0 902 814" width="902px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="494.5859" style="stroke:#000000;stroke-width:1.5;" width="885.5" x="10" y="221.0156"/><rect fill="none" height="309.1563" style="stroke:#000000;stroke-width:1.5;" width="865.5" x="20" y="399.4453"/><rect fill="none" height="187.2656" style="stroke:#000000;stroke-width:1.5;" width="845.5" x="30" y="424.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="57" x2="57" y1="82.6094" y2="732.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="233" x2="233" y1="82.6094" y2="732.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="372.5" x2="372.5" y1="82.6094" y2="732.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="535.5" x2="535.5" y1="82.6094" y2="732.6016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="746.5" x2="746.5" y1="82.6094" y2="732.6016"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="40" y="79.5332">User</text><ellipse cx="57.5" cy="13.5" fill="#2E2E2E" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M57.5,21.5 L57.5,48.5 M44.5,29.5 L70.5,29.5 M57.5,48.5 L44.5,63.5 M57.5,48.5 L70.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="40" y="746.1348">User</text><ellipse cx="57.5" cy="757.7109" fill="#2E2E2E" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M57.5,765.7109 L57.5,792.7109 M44.5,773.7109 L70.5,773.7109 M57.5,792.7109 L44.5,807.7109 M57.5,792.7109 L70.5,807.7109 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#2E2E2E" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="184" y="32.3906"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="197" y="53.9238">HomePage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="195" y="71.5332">(IndexGuest)</text><rect fill="#2E2E2E" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="184" y="731.6016"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="197" y="753.1348">HomePage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="195" y="770.7441">(IndexGuest)</text><rect fill="#2E2E2E" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="329.5" y="50"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="336.5" y="71.5332">Login Page</text><rect fill="#2E2E2E" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="329.5" y="731.6016"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="336.5" y="753.1348">Login Page</text><rect fill="#2E2E2E" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="453.5" y="50"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="460.5" y="71.5332">System.Security.Identity</text><rect fill="#2E2E2E" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="453.5" y="731.6016"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="460.5" y="753.1348">System.Security.Identity</text><rect fill="#2E2E2E" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="238" x="627.5" y="32.3906"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="674.5" y="53.9238">Identity.SignInManager</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="634.5" y="71.5332">(Microsoft.AspNetCore namespace)</text><rect fill="#2E2E2E" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="238" x="627.5" y="731.6016"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="674.5" y="753.1348">Identity.SignInManager</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="634.5" y="770.7441">(Microsoft.AspNetCore namespace)</text><polygon fill="#181818" points="221.5,110.9609,231.5,114.9609,221.5,118.9609,225.5,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57.5" x2="227.5" y1="114.9609" y2="114.9609"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="64.5" y="110.1045">Click login</text><polygon fill="#181818" points="68.5,141.3125,58.5,145.3125,68.5,149.3125,64.5,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62.5" x2="232.5" y1="145.3125" y2="145.3125"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="74.5" y="140.4561">Returns login page to user</text><polygon fill="#181818" points="360.5,171.6641,370.5,175.6641,360.5,179.6641,364.5,175.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57.5" x2="366.5" y1="175.6641" y2="175.6641"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="64.5" y="170.8076">Submit login details</text><polygon fill="#181818" points="523.5,202.0156,533.5,206.0156,523.5,210.0156,527.5,206.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="372.5" x2="529.5" y1="206.0156" y2="206.0156"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="379.5" y="201.1592">Check login details</text><path d="M10,221.0156 L71,221.0156 L71,229.3672 L61,239.3672 L10,239.3672 L10,221.0156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="494.5859" style="stroke:#000000;stroke-width:1.5;" width="885.5" x="10" y="221.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="235.5107">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="125" x="86" y="234.4346">[User is authenticated]</text><polygon fill="#181818" points="383.5,257.7188,373.5,261.7188,383.5,265.7188,379.5,261.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="377.5" x2="534.5" y1="261.7188" y2="261.7188"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="389.5" y="256.8623">IsAuthenticated == True</text><polygon fill="#181818" points="68.5,288.0703,58.5,292.0703,68.5,296.0703,64.5,292.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62.5" x2="371.5" y1="292.0703" y2="292.0703"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="74.5" y="287.2139">Sends user to home page of logged in user (Index)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="895.5" y1="301.0703" y2="301.0703"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="135" x="15" y="312.4893">[Model State is not valid]</text><polygon fill="#181818" points="68.5,334.2578,58.5,338.2578,68.5,342.2578,64.5,338.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62.5" x2="371.5" y1="338.2578" y2="338.2578"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="74.5" y="333.4014">User is kept at the same login page</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="895.5" y1="347.2578" y2="347.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="267" x="15" y="358.6768">[Check for password sign using SignInManager]</text><polygon fill="#181818" points="734.5,380.4453,744.5,384.4453,734.5,388.4453,738.5,384.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="372.5" x2="740.5" y1="384.4453" y2="384.4453"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="379.5" y="379.5889">Send username and password</text><path d="M20,399.4453 L81,399.4453 L81,407.7969 L71,417.7969 L20,417.7969 L20,399.4453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="309.1563" style="stroke:#000000;stroke-width:1.5;" width="865.5" x="20" y="399.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="413.9404">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="210" x="96" y="412.8643">[If attempted signin is not successful]</text><path d="M30,424.7969 L91,424.7969 L91,433.1484 L81,443.1484 L30,443.1484 L30,424.7969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="187.2656" style="stroke:#000000;stroke-width:1.5;" width="845.5" x="30" y="424.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="45" y="439.292">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132" x="106" y="438.2158">[Check if 2fa is enabled]</text><polygon fill="#181818" points="68.5,461.5,58.5,465.5,68.5,469.5,64.5,465.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62.5" x2="745.5" y1="465.5" y2="465.5"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="74.5" y="460.6436">If 2fa is required user is redirected to 2fa page</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="875.5" y1="474.5" y2="474.5"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118" x="35" y="485.9189">[If user is locked out]</text><polygon fill="#181818" points="68.5,507.6875,58.5,511.6875,68.5,515.6875,64.5,511.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62.5" x2="745.5" y1="511.6875" y2="511.6875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="525" x="74.5" y="506.8311">Send user to back to the same page with notification telling that their account is locked out</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="875.5" y1="520.6875" y2="520.6875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="165" x="35" y="532.1064">[Email verification is required]</text><polygon fill="#181818" points="68.5,553.875,58.5,557.875,68.5,561.875,64.5,557.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62.5" x2="745.5" y1="557.875" y2="557.875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="74.5" y="553.0186">Redirect to email verification page</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="875.5" y1="566.875" y2="566.875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="160" x="35" y="578.2939">[User Credentials are invalid]</text><polygon fill="#181818" points="68.5,600.0625,58.5,604.0625,68.5,608.0625,64.5,604.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62.5" x2="371.5" y1="604.0625" y2="604.0625"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="74.5" y="599.2061">User is kept at the same login page</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="885.5" y1="620.0625" y2="620.0625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="181" x="25" y="631.4814">[Attempted signin is successful]</text><line style="stroke:#181818;stroke-width:1.0;" x1="372.5" x2="414.5" y1="657.25" y2="657.25"/><line style="stroke:#181818;stroke-width:1.0;" x1="414.5" x2="414.5" y1="657.25" y2="670.25"/><line style="stroke:#181818;stroke-width:1.0;" x1="373.5" x2="414.5" y1="670.25" y2="670.25"/><polygon fill="#181818" points="383.5,666.25,373.5,670.25,383.5,674.25,379.5,670.25" style="stroke:#181818;stroke-width:1.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="379.5" y="652.3936">Log : "User logged in"</text><polygon fill="#181818" points="68.5,696.6016,58.5,700.6016,68.5,704.6016,64.5,700.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62.5" x2="371.5" y1="700.6016" y2="700.6016"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="74.5" y="695.7451">Sends user to home page of logged in user (Index)</text><!--MD5=[67002c8c999d1a2d38d176b21a53f80e]
@startuml

skinparam BackgroundColor Grey
skinparam ActorBackgroundColor 2e2e2e
skinparam ActorFontColor White
skinparam ParticipantBackgroundColor 2e2e2e
skinparam ParticipantFontColor White 
skinparam ArrowFontColor White

actor User as User
participant "HomePage \n (IndexGuest)" as Home
participant "Login Page" as Login
participant "System.Security.Identity" as Security
participant "Identity.SignInManager\n(Microsoft.AspNetCore namespace)" as SignIn

User -> Home : Click login 
Home - -> User : Returns login page to user

User -> Login : Submit login details 

Login -> Security : Check login details 

alt User is authenticated
    Security - -> Login : IsAuthenticated == True
    Login - -> User : Sends user to home page of logged in user (Index)

else Model State is not valid
    Login - -> User : User is kept at the same login page 

else Check for password sign using SignInManager
    Login -> SignIn : Send username and password
    alt If attempted signin is not successful 
        alt Check if 2fa is enabled
            SignIn - -> User : If 2fa is required user is redirected to 2fa page
        else If user is locked out 
            SignIn - -> User : Send user to back to the same page with notification telling that their account is locked out
        else Email verification is required 
            SignIn - -> User : Redirect to email verification page
        else User Credentials are invalid
            Login - -> User : User is kept at the same login page
        end
    else Attempted signin is successful 
        Login -> Login : Log : "User logged in"
        Login - -> User : Sends user to home page of logged in user (Index)
    end
end
@enduml

PlantUML version 1.2022.7(Mon Aug 22 22:31:30 IST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>